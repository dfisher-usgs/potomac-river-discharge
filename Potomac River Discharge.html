<!DOCTYPE html>
<html>
<head>
<title>2021 Potomac River Discharge</title>
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
  svg rect {
            fill: rgb(116, 190, 161);
        }
        svg text {
             fill:black;
            font: 10px sans-serif;
            text-anchor: end;
        }
</style>
</head>


<body>
  <button type="button" onclick="update()">UPDATE</button></br></br>
  <svg id="streamgraph"width="1300" height="600">
    <g ></g>
  </svg>
<script>
  // Define Variables
  var keys = {"January": 1,"February": 2,"March": 3,"April": 4};
  var myData = d3.select("body").data([426,745,14343,146,3573]);
  var stack;
  var stackedSeries;
  var area;
  var current;
  var n = 0;
  var chart = d3.select("#streamgraph");


/***
 * Potomac River Discharge Data - 2021
 * [Day #,Paw Paw streamgage discharge data, Hancock, Shepherdstown, Point of Rocks, Little Falls]
 * 
 */
var potomacRiverDischarge = [["day","paw paw","hancock","shepherdstown","point of rocks","little falls"],[1,4150,5060,7740,14500,16900],[2,7080,6250,9140,17000,23400],[3,11100,12800,14700,22400,25700],[4,10000,12600,18200,28900,31900],[5,8360,10500,15800,26000,31500],[6,7040,8700,13100,22300,26900],[7,6000,7360,11100,19200,22800],[8,5250,6380,9530,16700,19500],[9,4410,5590,8420,14600,17100],[10,3880,4780,7420,13000,15100],[11,3540,4320,6600,11600,13500],[12,3160,3910,6020,10500,12300],[13,2820,3520,5500,9600,11300],[14,2590,3170,5080,8840,10500],[15,2380,2990,4690,8210,9760],[16,2320,2760,4490,7780,9290],[17,2260,2740,4260,7450,8880],[18,2140,2610,4200,7280,8510],[19,2000,2450,3960,6990,8190],[20,1870,2250,3730,6590,7780],[21,1780,2120,3470,6230,7290],[22,1690,2000,3300,5900,6810],[23,1580,1880,3160,5610,6500],[24,1490,1760,3000,5410,6160],[25,1470,1670,2840,5200,5930],[26,1490,1680,2800,5130,5820],[27,1570,1700,2800,5080,5830],[28,2000,1860,2820,5060,5740],[29,2070,2330,2940,5370,5850],[30,1840,2190,3290,5690,5980],[31,1880,2040,3210,5700,6220],[32,1920,2070,3140,5630,6420],[33,1960,2160,3130,5480,6370],[34,1870,2160,3280,5440,6280],[35,1740,2020,3230,5610,6350],[36,1750,1950,3080,5540,6360],[37,1870,2030,3130,5520,6500],[38,2080,2300,3420,5790,6920],[39,2030,2450,3780,6190,7620],[40,1910,2340,3810,6450,7520],[41,1820,2220,3670,6440,7550],[42,1870,2180,3600,6470,8110],[43,1950,2220,3520,6460,7970],[44,2060,2320,3540,6610,7860],[45,2060,2420,3590,6810,7930],[46,2030,2390,3650,6950,8160],[47,2530,2730,3920,7770,12100],[48,4450,4380,6580,9950,13400],[49,4990,6330,9080,17000,17600],[50,4280,5650,9250,18100,20500],[51,3640,4870,7920,15600,19000],[52,3040,4070,6810,13500,16200],[53,2890,3600,5900,11900,14700],[54,3170,3570,5610,11000,14200],[55,6080,5350,6430,12500,14700],[56,10700,11700,13000,19100,19000],[57,11300,15700,22500,30000,30900],[58,9170,12600,20400,30500,36700],[59,13000,12600,17700,28200,35800],[60,41200,46600,44600,47600,50300],[61,32500,46200,66300,87000,89700],[62,19900,27200,43600,65800,81000],[63,14400,18500,28700,43400,54900],[64,10900,13700,21100,32800,40600],[65,8590,10600,16400,26300,32000],[66,7310,8670,13200,22000,26300],[67,5980,7380,11400,19100,22200],[68,5300,6300,9660,16800,19300],[69,4500,5610,8620,14800,17000],[70,4120,4940,7680,13400,15400],[71,3900,4660,7040,12100,14000],[72,3690,4360,6660,11300,12900],[73,3500,4100,6240,10500,12200],[74,3210,3840,5850,9870,11300],[75,2940,3520,5500,9310,10700],[76,2790,3300,5140,8730,10200],[77,2820,3310,5080,8740,10100],[78,3690,3950,5810,9230,10900],[79,3730,4660,7050,10400,11900],[80,3480,4410,6910,10800,12100],[81,3180,3950,6420,10100,11700],[82,2980,3670,5860,9320,11000],[83,2840,3460,5550,8880,11300],[84,2760,3340,5380,8690,10900],[85,2650,3230,5260,8380,10600],[86,2440,3050,4990,8070,9870],[87,2410,2910,4770,7750,9790],[88,2510,3030,4970,7790,9610],[89,2410,3020,5480,8400,9860],[90,2460,3020,5240,8390,10400],[91,3690,3690,5760,9210,12500],[92,4180,5820,8480,11900,13200],[93,3730,5570,9480,14800,15600],[94,3410,4850,8310,13600,15900],[95,3150,4360,7360,12100,14300],[96,2920,3960,6690,11000,12900],[97,2720,3650,6090,10100,11900],[98,2520,3370,5620,9280,11000],[99,2550,3200,5330,9010,11100],[100,2970,3330,5280,8810,10900],[101,7380,5850,7410,9480,10900],[102,16300,21000,25100,27500,18900],[103,11000,15900,27900,40700,44800],[104,7950,10900,18700,29600,37900],[105,6590,8520,14200,23100,28700],[106,6280,7610,11900,20100,23600],[107,5780,7140,10800,18300,20600],[108,5650,6560,9780,16600,18700],[109,4730,6200,9150,15000,16600],[110,3680,4810,8180,13800,15400],[111,3330,4230,6730,11600,13800],[112,2980,3800,6070,10300,11900],[113,2700,3430,5520,9340,10900],[114,2470,3140,5090,8570,10000],[115,2730,3070,4920,8380,10400],[116,3690,3980,5100,8480,9970],[117,3380,4480,6110,9150,9800],[118,3060,3990,6010,9600,10500],[119,2870,3690,5460,8730,10200],[120,2820,3500,5140,8060,9500],[121,2750,3380,4910,7630,8790],[122,2820,3340,4680,7310,8390],[123,2730,3300,4740,7110,8020],[124,3470,3680,5170,8360,9040],[125,5220,5230,6420,8840,11100],[126,6610,7530,9280,12800,11300],[127,5920,7090,10400,15500,15600],[128,4950,6360,9190,13600,15400],[129,3880,5080,8130,12200,13800],[130,3730,4440,6780,10300,12400],[131,3470,4290,6220,9060,10600],[132,3190,3870,5810,8480,9650],[133,2920,3550,5290,7740,8940],[134,2630,3240,4910,7170,8230],[135,2340,2910,4480,6720,7650],[136,2420,2700,4090,6250,7110],[137,2310,2710,3920,5840,6640],[138,1930,2520,3780,5810,6240],[139,1760,2160,3570,5560,6070],[140,1580,1920,3180,5030,5850],[141,1460,1740,2910,4720,5310],[142,1360,1610,2680,4390,4960],[143,1290,1510,2510,4130,4620],[144,1260,1500,2420,4060,4430],[145,1430,1520,2510,4070,4650],[146,1360,1640,2610,4160,4560],[147,1240,1490,2660,4360,4950],[148,1170,1400,2490,4220,5110],[149,1740,1470,2460,4620,5880],[150,2290,2280,2850,4750,6030],[151,2110,2570,3550,5390,6010],[152,1670,2360,3650,5780,6190],[153,1500,1890,3250,5310,6140],[154,1780,2010,2870,4810,5580],[155,1590,2000,3160,4830,5700],[156,1400,1740,3000,4680,5450],[157,1560,1570,2660,4270,5070],[158,1180,1710,2430,3910,4460],[159,1120,1330,2410,3810,4120],[160,1170,1390,2070,3490,4000],[161,1320,1480,2300,3550,3810],[162,2510,1840,2760,8600,5810],[163,3790,5220,5200,9920,14200],[164,3170,4760,7890,12900,13500],[165,3540,3970,6580,11500,14300],[166,3580,4300,5930,9700,13500],[167,3820,4450,5610,9580,10700],[168,3220,4270,5460,9050,10000],[169,2320,3140,5020,8370,9210],[170,1960,2470,3920,6970,8430],[171,1750,2110,3330,5870,7030],[172,1730,1910,2960,5270,6060],[173,1720,2000,2930,5180,6100],[174,1710,1940,3250,5290,6060],[175,1540,1870,3110,5000,5850],[176,1370,1670,2860,4660,5300],[177,1210,1490,2570,4280,4840],[178,1090,1310,2280,3930,4370],[179,1040,1200,2110,3570,3940],[180,1170,1160,1900,3350,3500],[181,1050,1260,1850,3130,3290],[182,1110,1180,1980,3310,3510],[183,1090,1250,1980,3470,4610],[184,1230,1210,2050,3470,4080],[185,1140,1330,1990,3400,3830],[186,1380,1260,2020,3260,3550],[187,1010,1470,1940,3200,3330],[188,913,1090,2080,3150,3160],[189,893,1010,1710,3060,3440],[190,918,986,1610,2810,3730],[191,975,1000,1660,2710,3540],[192,913,1070,1680,2700,3040],[193,996,1360,1680,2700,2890],[194,1060,1260,2230,2830,2830],[195,1080,1220,2290,3410,3570],[196,899,1160,2040,3120,3920],[197,834,1010,1980,2900,3190],[198,794,960,1680,2880,3180],[199,782,960,1650,2750,3340],[200,780,913,2460,3140,2950],[201,738,930,2000,3320,3210],[202,699,865,1760,2820,3240],[203,676,800,1570,2660,2740],[204,652,760,1410,2410,2480],[205,628,732,1330,2200,2420],[206,616,706,1290,2080,2200],[207,607,704,1230,2010,1990],[208,598,686,1210,1910,1910],[209,553,671,1170,1850,2130],[210,568,636,1120,1780,1970],[211,581,635,1130,1870,1920],[212,561,637,1070,1780,1780],[213,552,622,1080,1800,1850],[214,590,619,1050,1820,1930],[215,581,640,1020,1680,1860],[216,554,637,1040,1630,1660],[217,530,618,1050,1630,1540],[218,522,592,1030,1610,1440],[219,525,575,1000,1590,1420],[220,528,582,938,1540,1470],[221,549,587,943,1480,1470],[222,556,602,938,1540,1410],[223,546,622,1010,1710,1950],[224,515,641,1050,1750,1810],[225,513,592,1110,1870,1920],[226,538,599,1050,1810,2410],[227,531,635,1070,1900,2240],[228,542,625,1120,1940,2360],[229,882,889,1390,2160,3310],[230,920,1090,2090,2910,3710],[231,1540,1280,2330,3070,3930],[232,1080,1650,3140,4050,5950],[233,956,1200,3030,4460,5560],[234,904,1070,2270,3790,5000],[235,848,1050,1920,3300,3910],[236,765,984,1760,3200,3400],[237,708,882,1600,2920,3130],[238,853,911,1440,2610,3800],[239,847,1030,1400,2360,3400],[240,766,952,1500,2370,3020],[241,1230,883,1700,2560,2570],[242,1260,1390,1820,2950,2760],[243,1080,1420,2110,3930,3010],[244,6120,4060,3010,7150,9130],[245,23700,29700,35900,32100,30800],[246,8310,13800,33500,53300,74300],[247,4540,6890,13400,23100,33900],[248,3070,4420,8250,14400,18700],[249,2380,3230,6030,10100,12800],[250,1940,2560,4830,7850,9700],[251,1620,2050,3960,6520,7730],[252,1430,1750,3420,6540,8560],[253,1370,1560,3050,8210,12200],[254,1600,1550,2790,6540,9850],[255,1350,1700,2640,5170,7100],[256,1170,1450,2680,4780,5650],[257,1070,1280,2400,4350,5090],[258,1020,1180,2190,3910,4520],[259,966,1130,2090,4170,4650],[260,933,1080,2190,4300,7020],[261,894,1030,1900,3760,7050],[262,1090,992,1880,3410,5030],[263,1090,1180,1860,3260,4300],[264,897,1170,1900,3180,3910],[265,947,1030,1960,3320,3760],[266,6820,3160,4520,9070,13100],[267,10900,14600,19100,24600,38500],[268,5540,8240,16100,29200,37500],[269,3870,5250,9410,18300,24700],[270,2670,3820,6850,12700,16400],[271,2120,2830,5210,9730,12300],[272,1860,2310,4240,7670,9800],[273,1660,1990,3610,6500,8130],[274,1460,1750,3230,5720,6900],[275,1330,1560,2870,5080,6100],[276,1220,1430,2640,4610,5500],[277,1160,1340,2480,4360,5000],[278,1140,1280,2400,4200,4730],[279,1090,1300,2280,4190,4620],[280,1050,1330,2250,3900,4650],[281,1030,1230,2270,3890,4320],[282,998,1170,2110,4620,4250],[283,1010,1130,2070,4620,4970],[284,1020,1140,2040,4560,4840],[285,998,1140,2000,4250,4760],[286,959,1110,1980,4030,4470],[287,921,1060,1690,3800,4260],[288,888,1020,1760,3420,4010],[289,876,995,1780,3450,3730],[290,881,982,1720,3350,3870],[291,837,968,1720,3220,3570],[292,809,926,1690,3200,3420],[293,785,901,1610,3030,3320],[294,772,878,1560,2900,3160],[295,774,870,1520,2830,3040],[296,765,863,1490,2730,2930],[297,753,848,1470,2660,2880],[298,747,837,1460,2710,3450],[299,766,828,1460,2790,5530],[300,746,838,1390,2720,3890],[301,738,823,1400,2500,3500],[302,824,954,1550,3510,4610],[303,2370,1410,2500,5000,8780],[304,4330,4400,4190,6970,11500],[305,4390,5560,6420,11900,10000],[306,3280,4530,6660,13900,14200],[307,2580,3470,5240,10900,13300],[308,2160,2810,4270,8490,10600],[309,1910,2390,3650,7150,8670],[310,1720,2100,3260,6110,7410],[311,1580,1880,2890,5460,6420],[312,1480,1730,2780,4960,5730],[313,1400,1620,2540,4650,5290],[314,1330,1540,2400,4360,4990],[315,1270,1460,2290,4140,4670],[316,1340,1560,2690,4230,4870],[317,1580,1990,5540,6910,5260],[318,1450,2390,5250,9190,9370],[319,1380,1990,4450,8950,9810],[320,1340,1810,3710,7550,9000],[321,1290,1690,3310,6570,7700],[322,1240,1590,3030,5940,6750],[323,1190,1500,2840,5460,6160],[324,1150,1420,2620,5020,5650],[325,1130,1370,2510,4670,5250],[326,1110,1330,2440,4460,4940],[327,1090,1290,2320,4340,4710],[328,1050,1260,2250,4150,4550],[329,1030,1230,2150,3950,4410],[330,993,1180,2100,3770,4270],[331,983,1130,2000,3650,4030],[332,964,1120,1950,3540,3940],[333,935,1100,1970,3490,3780],[334,924,1070,1880,3450,3700],[335,902,1050,1840,3340,3660],[336,894,1030,1810,3260,3560],[337,887,1020,1780,3190,3500],[338,877,1010,1690,3090,3430],[339,862,994,1710,2990,3370],[340,857,975,1730,3000,3210],[341,845,961,1650,2970,3210],[342,836,947,1660,2880,3190],[343,828,934,1610,2840,3110],[344,831,929,1580,2790,3030],[345,834,934,1450,2730,3010],[346,829,931,1560,2690,3040],[347,824,926,1640,2710,2900],[348,817,919,1520,2720,2930],[349,798,915,1480,2670,2910],[350,795,894,1550,2620,2840],[351,779,889,1440,2620,2780],[352,784,881,1360,2560,2800],[353,794,883,1450,2550,2710],[354,804,892,1560,2520,2670],[355,798,897,1500,2640,2690],[356,785,887,1430,2560,2770],[357,779,873,1430,2510,2640],[358,775,868,1400,2470,2600],[359,783,867,1400,2470,2610],[360,835,893,1340,2480,2720],[361,950,945,1570,2490,2690],[362,959,1050,1520,2620,2660],[363,1200,1080,1640,2620,2780],[364,1590,1370,1720,2790,2870],[365,1880,1780,2060,2970,3090]];

var data = {
day: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365],
pawpaw: [4150,7080,11100,10000,8360,7040,6000,5250,4410,3880,3540,3160,2820,2590,2380,2320,2260,2140,2000,1870,1780,1690,1580,1490,1470,1490,1570,2000,2070,1840,1880,1920,1960,1870,1740,1750,1870,2080,2030,1910,1820,1870,1950,2060,2060,2030,2530,4450,4990,4280,3640,3040,2890,3170,6080,10700,11300,9170,13000,41200,32500,19900,14400,10900,8590,7310,5980,5300,4500,4120,3900,3690,3500,3210,2940,2790,2820,3690,3730,3480,3180,2980,2840,2760,2650,2440,2410,2510,2410,2460,3690,4180,3730,3410,3150,2920,2720,2520,2550,2970,7380,16300,11000,7950,6590,6280,5780,5650,4730,3680,3330,2980,2700,2470,2730,3690,3380,3060,2870,2820,2750,2820,2730,3470,5220,6610,5920,4950,3880,3730,3470,3190,2920,2630,2340,2420,2310,1930,1760,1580,1460,1360,1290,1260,1430,1360,1240,1170,1740,2290,2110,1670,1500,1780,1590,1400,1560,1180,1120,1170,1320,2510,3790,3170,3540,3580,3820,3220,2320,1960,1750,1730,1720,1710,1540,1370,1210,1090,1040,1170,1050,1110,1090,1230,1140,1380,1010,913,893,918,975,913,996,1060,1080,899,834,794,782,780,738,699,676,652,628,616,607,598,553,568,581,561,552,590,581,554,530,522,525,528,549,556,546,515,513,538,531,542,882,920,1540,1080,956,904,848,765,708,853,847,766,1230,1260,1080,6120,23700,8310,4540,3070,2380,1940,1620,1430,1370,1600,1350,1170,1070,1020,966,933,894,1090,1090,897,947,6820,10900,5540,3870,2670,2120,1860,1660,1460,1330,1220,1160,1140,1090,1050,1030,998,1010,1020,998,959,921,888,876,881,837,809,785,772,774,765,753,747,766,746,738,824,2370,4330,4390,3280,2580,2160,1910,1720,1580,1480,1400,1330,1270,1340,1580,1450,1380,1340,1290,1240,1190,1150,1130,1110,1090,1050,1030,993,983,964,935,924,902,894,887,877,862,857,845,836,828,831,834,829,824,817,798,795,779,784,794,804,798,785,779,775,783,835,950,959,1200,1590,1880],
hancock: [5060,6250,12800,12600,10500,8700,7360,6380,5590,4780,4320,3910,3520,3170,2990,2760,2740,2610,2450,2250,2120,2000,1880,1760,1670,1680,1700,1860,2330,2190,2040,2070,2160,2160,2020,1950,2030,2300,2450,2340,2220,2180,2220,2320,2420,2390,2730,4380,6330,5650,4870,4070,3600,3570,5350,11700,15700,12600,12600,46600,46200,27200,18500,13700,10600,8670,7380,6300,5610,4940,4660,4360,4100,3840,3520,3300,3310,3950,4660,4410,3950,3670,3460,3340,3230,3050,2910,3030,3020,3020,3690,5820,5570,4850,4360,3960,3650,3370,3200,3330,5850,21000,15900,10900,8520,7610,7140,6560,6200,4810,4230,3800,3430,3140,3070,3980,4480,3990,3690,3500,3380,3340,3300,3680,5230,7530,7090,6360,5080,4440,4290,3870,3550,3240,2910,2700,2710,2520,2160,1920,1740,1610,1510,1500,1520,1640,1490,1400,1470,2280,2570,2360,1890,2010,2000,1740,1570,1710,1330,1390,1480,1840,5220,4760,3970,4300,4450,4270,3140,2470,2110,1910,2000,1940,1870,1670,1490,1310,1200,1160,1260,1180,1250,1210,1330,1260,1470,1090,1010,986,1000,1070,1360,1260,1220,1160,1010,960,960,913,930,865,800,760,732,706,704,686,671,636,635,637,622,619,640,637,618,592,575,582,587,602,622,641,592,599,635,625,889,1090,1280,1650,1200,1070,1050,984,882,911,1030,952,883,1390,1420,4060,29700,13800,6890,4420,3230,2560,2050,1750,1560,1550,1700,1450,1280,1180,1130,1080,1030,992,1180,1170,1030,3160,14600,8240,5250,3820,2830,2310,1990,1750,1560,1430,1340,1280,1300,1330,1230,1170,1130,1140,1140,1110,1060,1020,995,982,968,926,901,878,870,863,848,837,828,838,823,954,1410,4400,5560,4530,3470,2810,2390,2100,1880,1730,1620,1540,1460,1560,1990,2390,1990,1810,1690,1590,1500,1420,1370,1330,1290,1260,1230,1180,1130,1120,1100,1070,1050,1030,1020,1010,994,975,961,947,934,929,934,931,926,919,915,894,889,881,883,892,897,887,873,868,867,893,945,1050,1080,1370,1780],
shepherdstown: [7740,9140,14700,18200,15800,13100,11100,9530,8420,7420,6600,6020,5500,5080,4690,4490,4260,4200,3960,3730,3470,3300,3160,3000,2840,2800,2800,2820,2940,3290,3210,3140,3130,3280,3230,3080,3130,3420,3780,3810,3670,3600,3520,3540,3590,3650,3920,6580,9080,9250,7920,6810,5900,5610,6430,13000,22500,20400,17700,44600,66300,43600,28700,21100,16400,13200,11400,9660,8620,7680,7040,6660,6240,5850,5500,5140,5080,5810,7050,6910,6420,5860,5550,5380,5260,4990,4770,4970,5480,5240,5760,8480,9480,8310,7360,6690,6090,5620,5330,5280,7410,25100,27900,18700,14200,11900,10800,9780,9150,8180,6730,6070,5520,5090,4920,5100,6110,6010,5460,5140,4910,4680,4740,5170,6420,9280,10400,9190,8130,6780,6220,5810,5290,4910,4480,4090,3920,3780,3570,3180,2910,2680,2510,2420,2510,2610,2660,2490,2460,2850,3550,3650,3250,2870,3160,3000,2660,2430,2410,2070,2300,2760,5200,7890,6580,5930,5610,5460,5020,3920,3330,2960,2930,3250,3110,2860,2570,2280,2110,1900,1850,1980,1980,2050,1990,2020,1940,2080,1710,1610,1660,1680,1680,2230,2290,2040,1980,1680,1650,2460,2000,1760,1570,1410,1330,1290,1230,1210,1170,1120,1130,1070,1080,1050,1020,1040,1050,1030,1000,938,943,938,1010,1050,1110,1050,1070,1120,1390,2090,2330,3140,3030,2270,1920,1760,1600,1440,1400,1500,1700,1820,2110,3010,35900,33500,13400,8250,6030,4830,3960,3420,3050,2790,2640,2680,2400,2190,2090,2190,1900,1880,1860,1900,1960,4520,19100,16100,9410,6850,5210,4240,3610,3230,2870,2640,2480,2400,2280,2250,2270,2110,2070,2040,2000,1980,1690,1760,1780,1720,1720,1690,1610,1560,1520,1490,1470,1460,1460,1390,1400,1550,2500,4190,6420,6660,5240,4270,3650,3260,2890,2780,2540,2400,2290,2690,5540,5250,4450,3710,3310,3030,2840,2620,2510,2440,2320,2250,2150,2100,2000,1950,1970,1880,1840,1810,1780,1690,1710,1730,1650,1660,1610,1580,1450,1560,1640,1520,1480,1550,1440,1360,1450,1560,1500,1430,1430,1400,1400,1340,1570,1520,1640,1720,2060],
pointofrocks: [14500,17000,22400,28900,26000,22300,19200,16700,14600,13000,11600,10500,9600,8840,8210,7780,7450,7280,6990,6590,6230,5900,5610,5410,5200,5130,5080,5060,5370,5690,5700,5630,5480,5440,5610,5540,5520,5790,6190,6450,6440,6470,6460,6610,6810,6950,7770,9950,17000,18100,15600,13500,11900,11000,12500,19100,30000,30500,28200,47600,87000,65800,43400,32800,26300,22000,19100,16800,14800,13400,12100,11300,10500,9870,9310,8730,8740,9230,10400,10800,10100,9320,8880,8690,8380,8070,7750,7790,8400,8390,9210,11900,14800,13600,12100,11000,10100,9280,9010,8810,9480,27500,40700,29600,23100,20100,18300,16600,15000,13800,11600,10300,9340,8570,8380,8480,9150,9600,8730,8060,7630,7310,7110,8360,8840,12800,15500,13600,12200,10300,9060,8480,7740,7170,6720,6250,5840,5810,5560,5030,4720,4390,4130,4060,4070,4160,4360,4220,4620,4750,5390,5780,5310,4810,4830,4680,4270,3910,3810,3490,3550,8600,9920,12900,11500,9700,9580,9050,8370,6970,5870,5270,5180,5290,5000,4660,4280,3930,3570,3350,3130,3310,3470,3470,3400,3260,3200,3150,3060,2810,2710,2700,2700,2830,3410,3120,2900,2880,2750,3140,3320,2820,2660,2410,2200,2080,2010,1910,1850,1780,1870,1780,1800,1820,1680,1630,1630,1610,1590,1540,1480,1540,1710,1750,1870,1810,1900,1940,2160,2910,3070,4050,4460,3790,3300,3200,2920,2610,2360,2370,2560,2950,3930,7150,32100,53300,23100,14400,10100,7850,6520,6540,8210,6540,5170,4780,4350,3910,4170,4300,3760,3410,3260,3180,3320,9070,24600,29200,18300,12700,9730,7670,6500,5720,5080,4610,4360,4200,4190,3900,3890,4620,4620,4560,4250,4030,3800,3420,3450,3350,3220,3200,3030,2900,2830,2730,2660,2710,2790,2720,2500,3510,5000,6970,11900,13900,10900,8490,7150,6110,5460,4960,4650,4360,4140,4230,6910,9190,8950,7550,6570,5940,5460,5020,4670,4460,4340,4150,3950,3770,3650,3540,3490,3450,3340,3260,3190,3090,2990,3000,2970,2880,2840,2790,2730,2690,2710,2720,2670,2620,2620,2560,2550,2520,2640,2560,2510,2470,2470,2480,2490,2620,2620,2790,2970],
littlefalls: [16900,23400,25700,31900,31500,26900,22800,19500,17100,15100,13500,12300,11300,10500,9760,9290,8880,8510,8190,7780,7290,6810,6500,6160,5930,5820,5830,5740,5850,5980,6220,6420,6370,6280,6350,6360,6500,6920,7620,7520,7550,8110,7970,7860,7930,8160,12100,13400,17600,20500,19000,16200,14700,14200,14700,19000,30900,36700,35800,50300,89700,81000,54900,40600,32000,26300,22200,19300,17000,15400,14000,12900,12200,11300,10700,10200,10100,10900,11900,12100,11700,11000,11300,10900,10600,9870,9790,9610,9860,10400,12500,13200,15600,15900,14300,12900,11900,11000,11100,10900,10900,18900,44800,37900,28700,23600,20600,18700,16600,15400,13800,11900,10900,10000,10400,9970,9800,10500,10200,9500,8790,8390,8020,9040,11100,11300,15600,15400,13800,12400,10600,9650,8940,8230,7650,7110,6640,6240,6070,5850,5310,4960,4620,4430,4650,4560,4950,5110,5880,6030,6010,6190,6140,5580,5700,5450,5070,4460,4120,4000,3810,5810,14200,13500,14300,13500,10700,10000,9210,8430,7030,6060,6100,6060,5850,5300,4840,4370,3940,3500,3290,3510,4610,4080,3830,3550,3330,3160,3440,3730,3540,3040,2890,2830,3570,3920,3190,3180,3340,2950,3210,3240,2740,2480,2420,2200,1990,1910,2130,1970,1920,1780,1850,1930,1860,1660,1540,1440,1420,1470,1470,1410,1950,1810,1920,2410,2240,2360,3310,3710,3930,5950,5560,5000,3910,3400,3130,3800,3400,3020,2570,2760,3010,9130,30800,74300,33900,18700,12800,9700,7730,8560,12200,9850,7100,5650,5090,4520,4650,7020,7050,5030,4300,3910,3760,13100,38500,37500,24700,16400,12300,9800,8130,6900,6100,5500,5000,4730,4620,4650,4320,4250,4970,4840,4760,4470,4260,4010,3730,3870,3570,3420,3320,3160,3040,2930,2880,3450,5530,3890,3500,4610,8780,11500,10000,14200,13300,10600,8670,7410,6420,5730,5290,4990,4670,4870,5260,9370,9810,9000,7700,6750,6160,5650,5250,4940,4710,4550,4410,4270,4030,3940,3780,3700,3660,3560,3500,3430,3370,3210,3210,3190,3110,3030,3010,3040,2900,2930,2910,2840,2780,2800,2710,2670,2690,2770,2640,2600,2610,2720,2690,2660,2780,2870,3090]};

var current = [
    {gage: "Paw Paw", mile: 0, month: Date(2021, 0, 1), discharge: 41.5},
    {gage: "Hancock", mile: 40, month: Date(2021, 0, 7.9), discharge: 50.6},
    {gage: "Shepherdstown", mile: 84, month: Date(2021, 0, 16.7), discharge: 77.4},
    {gage: "Point Of Rocks", mile: 119, month: Date(2021, 0, 23.6), discharge: 145},
    {gage: "Little Falls", mile: 156, month: Date(2021, 0, 31), discharge: 169}
];



var xScale = d3.scaleTime().domain([current[0].mile, current[current.length - 1].mile*.25]).range([0,275]);
var yScale = d3.scaleLinear().domain([0,1000]).range([275,25]);

//VISUAL COMPONENTS

//BACKGROUND
d3.select("#streamgraph")
.append("rect")
.attr("width",1300)
.attr("height",600)
.style("fill","rgb(235,235,235)")


//CALL FIRST ITERATION
animate(n);

//CREATE STREAMGRAPH
 d3.select("#streamgraph").selectAll("path")
      .data(stackedSeries)
      .join("path")
            .attr("transform", `translate(87.5, ${ 50})`)
            .attr("d", area)
            .style("fill", "rgb(131,193,234)");


//FUNCTIONS
function animate(day){
  
  current[0].discharge = data.pawpaw[day]/100;
  current[1].discharge = data.hancock[day]/100;
  current[2].discharge = data.shepherdstown[day]/100;
  current[3].discharge = data.pointofrocks[day]/100;
  current[4].discharge = data.littlefalls[day]/100;

  stack = d3.stack() 
  .keys(["discharge"])
  .value((d, key) => d.discharge)
  .order(d3.stackOrderNone)
  .offset(d3.stackOffsetSilhouette);
        
stackedSeries = stack(current);

area = d3.area()
  .x((d) => xScale(d.data.mile))
  .y0((d) => yScale(d[0]))
  .y1((d) => yScale(d[1]))
  .curve(d3.curveBasis);
}

//UPDATE FUNCTION
function update(){
  d3.selectAll("path")
  .data(function (){ n++; animate(n); console.log(n); return stackedSeries})
  .transition().delay(0).duration(100)//Animation currently x seconds
  .attr("d", area)
  .on("end", update);


}
</script>
</body>
</html>